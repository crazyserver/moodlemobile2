<ion-header>
    <ion-toolbar core-back-button>
        <ion-title>{{ 'addon.mod_scorm.toc' | translate }}</ion-title>
        <ion-buttons slot="primary">
            <ion-button slot="icon-only //TODO: mode to icon" (click)="closeModal()" [attr.aria-label]="'core.close' | translate">
                <ion-icon name="close"></ion-icon>
            </ion-button>
        </ion-buttons>
    </ion-toolbar>
</ion-header>
<ion-content>
    <nav>
        <ion-list class="addon-mod_scorm-toc">
            <ion-item class="ion-text-wrap" *ngIf="attemptToContinue">
                <p>{{ 'addon.mod_scorm.dataattemptshown' | translate:{number: attemptToContinue} }}</p>
            </ion-item>
            <ion-item class="ion-text-center" *ngIf="isBrowse">
                <p>{{ 'addon.mod_scorm.browsemode' | translate }}</p>
            </ion-item>
            <ion-item class="ion-text-center" *ngIf="isReview">
                <p>{{ 'addon.mod_scorm.reviewmode' | translate }}</p>
            </ion-item>

            <!-- List of SCOs. -->
            <ng-container *ngFor="let sco of toc">
                <ion-item *ngIf="sco.isvisible" class="ion-text-wrap" [ngClass]="'core-padding-' + sco.level + ' addon-mod_scorm-type-' + sco.scormtype" [class.core-nav-item-selected]="selected == sco.id" [class]="" (click)="loadSco(sco)" [attr.disabled]="!sco.prereq || !sco.launch ? true : null" [attr.detail-none]="!sco.prereq || !sco.launch ? true : null">
                    <core-icon [name]="sco.image.icon" [label]="sco.image.description" slot=”start”></core-icon>
                    <core-format-text [text]="sco.title" contextLevel="module" [contextInstanceId]="moduleId" [courseId]="courseId"></core-format-text>
                    <span *ngIf="accessInfo && accessInfo.canviewscores && sco.score_raw">({{ 'addon.mod_scorm.score' | translate }}: {{sco.score_raw}})</span>
                </ion-item>
            </ng-container>
        </ion-list>
    </nav>
</ion-content>
